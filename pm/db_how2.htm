<!DOCTYPE HTML PUBLIC "-//SQ//DTD HTML 2.0 HoTMetaL + extensions//EN" "hmpro6.dtd">
<HTML> 
  <HEAD>
<!--VHA OI Health Systems Design & Development (HSD&D)-->
<!--Oakland OIFO-->
<!--Authored by Thom Blom and Kyle Clarke, 12/31/99-->
<!--Revised by Strack Susan, 12/03/02-->
<!--Edited March 2007, Hardhats.org-->
	 <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1"> 
	 <TITLE>VA FileMan Programmer Manual: How the DBS Returns
		Information</TITLE><META NAME="subject"
	 CONTENT="VA FileMan V. 22.0 Programmer HTML Manual">
	 <META NAME="keywords"
	  CONTENT="Information Infrastructure Service,IIS,Infrastructure and Security Services,Infrastructure Security Services,VISTA,FileMan,VA FileMan,programmer,developer,programmer manual,database server (dbs) calls,database server api,api,calls,dbs,dbs calls,database,server,how the database server returns information">
	 <LINK REL="StyleSheet" TYPE="text/css" HREF="programmer.css"> 
  </HEAD>
	<BODY TOPMARGIN="0" BGCOLOR="white">
  	<BR><IMG SRC="common/fileman_pm_heading.gif" BORDER="0" WIDTH="429" HEIGHT="29"
	ALT="VA FileMan V. 22.0 Programmer Manual Banner">
	<BR>
	<HR ALIGN="left" WIDTH="429" COLOR="blue">
	<BR>
	<P>&nbsp;</P>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLPADDING="3"
	  CLASS="tdstyle" SUMMARY="This table is for formatting purposes only" HEIGHT="1"
	  VALIGN="TOP"> 
		<TR> 
		  <TD VALIGN="BOTTOM" ALIGN="LEFT" HEIGHT="1" WIDTH="10%"
			CLASS="menubartext">Contents:</TD> 
		  <TD VALIGN="BOTTOM" ALIGN="LEFT" HEIGHT="1" WIDTH="7%">
			 <A HREF="index.htm" TARGET="_top"
			  TITLE="VA FileMan V. 22.0 Programmer HTML Manual: Main Table of Contents"
			  CLASS="menubarlink">Main</A> </TD> 
		  <TD VALIGN="BOTTOM" ALIGN="LEFT" HEIGHT="1" WIDTH="17%"><A
			 HREF="dba_frm.htm" TARGET="_top" CLASS="menubarlink"
			 TITLE="VA FileMan V. 22.0 Programmer HTML Manual: Database Server (DBS) API Chapter TOC">Chapter</A></TD>
		  
		  <TD ALIGN="LEFT" VALIGN="BOTTOM" HEIGHT="1" WIDTH="10%"
			CLASS="menubartext">See Also: </TD> 
		  <TD ALIGN="LEFT" VALIGN="BOTTOM" HEIGHT="1" WIDTH="28%"><A
			 HREF="../u1/index.htm" TARGET="_top"
			 TITLE="VA FileMan V. 22.0 Getting Started HTML Manual"
			 CLASS="menubarlink">Getting Started Manual</A></TD> 
		  <TD VALIGN="BOTTOM" ALIGN="LEFT" HEIGHT="1" COLSPAN="4" WIDTH="28%">
			 <A HREF="../u2/index.htm" TARGET="_top"
			  TITLE="VA FileMan V. 22.0 Advanced User HTML Manual"
			  CLASS="menubarlink">Advanced User Manual</A></TD> 
		</TR> 
	 </TABLE><!-- Content -->
	 <H3><A NAME="navskip">Database Server (DBS) API</A></H3>
	 <HR CLASS="hrstyle"> 
	 <H4>How Information Is Returned</H4> 
	 <P>Information is passed back to the client application in arrays. By
		default the arrays are: </P> 
	 <PRE>
    ^TMP(&quot;DIHELP&quot;,$J)  for help
    ^TMP(&quot;DIMSG&quot;,$J)   for other user messages
    ^TMP(&quot;DIERR&quot;,$J)   for error messages
</PRE> 
	 <P><B>NOTE:</B> In traditional VA FileMan Classic calls, the first two of
		these types of messages are written directly to the screen; the last one did
		not exist or consisted solely of "&lt;BEEP&gt;??". </P> 
	 <P>In addition, there is an output variable associated with each of these
		arrays. DIHELP and DIMSG equal the number of nodes of text associated with
		their respective arrays. DIERR has the following two pieces:
		number_of_errors^number_of_nodes_of_text. </P> 
	 <P>If the client application wants the data returned in another array
		(local or global), the array's closed root should be passed as a parameter in
		the DBS call. The major DBS calls have a parameter to accept this root as the
		last parameter. Thus, if the call looks like: </P> 
	 <PRE>
    D CALL^FM(&quot;OTHER_PARAMETERS&quot;,&quot;MYMSGS&quot;)
</PRE> 
	 <P>information is returned in: </P> 
	 <PRE>
    MYMSGS(&quot;DIHELP&quot;)
    MYMSGS(&quot;DIMSG&quot;)
    MYMSGS(&quot;DIERR&quot;)
</PRE> 
	 <P>Also, the values stored in the corresponding local variables are put
		into the top level nodes of these arrays. When the application specifies an
		array for output, nothing is returned in the ^TMP arrays. </P>
	 <P>&nbsp;</P> 
	 <HR CLASS="hrstyle">
	 <!-- db_how2.htm -->
	 <P ALIGN="CENTER">Reviewed/Updated: March 10, 2007</P>
	 <P>&nbsp;</P> 

  </BODY>
</HTML>
