<!DOCTYPE HTML PUBLIC "-//SQ//DTD HTML 2.0 HoTMetaL + extensions//EN" "hmpro6.dtd">
<HTML> 
  <HEAD> 
	 <!--VHA OI Health Systems Design & Development (HSD&D)-->
<!--Oakland OIFO-->
<!--Authored by Thom Blom and Kyle Clarke, 12/31/99-->
<!--Revised by Strack Susan, 12/03/02-->
<!--Edited March 2007, Hardhats.org-->
	 <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1"> 
	 <TITLE>VA FileMan Programmer Manual: FILESEC^DDMOD</TITLE>
	 <META NAME="subject" CONTENT="VA FileMan V. 22.0 Programmer HTML Manual">
	 <META NAME="keywords"
	  CONTENT="Information Infrastructure Service,IIS,Infrastructure and Security Services,Infrastructure Security Services,ISS,VISTA,FileMan,VA FileMan,programmer,developer,programmer manual,database server (dbs) calls,database server api,api,calls,dbs,dbs calls,database,server,filesec^ddmod,ddmod">
	 <LINK REL="StyleSheet" TYPE="text/css" HREF="programmer.css"> 
  </HEAD>
	<BODY TOPMARGIN="0" BGCOLOR="white">
  	<BR><IMG SRC="common/fileman_pm_heading.gif" BORDER="0" WIDTH="429" HEIGHT="29"
	ALT="VA FileMan V. 22.0 Programmer Manual Banner">
	<BR>
	<HR ALIGN="left" WIDTH="429" COLOR="blue">
	<BR>
	<P>&nbsp;</P>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLPADDING="3"
	  CLASS="tdstyle" SUMMARY="This table is for formatting purposes only" HEIGHT="1"
	  VALIGN="TOP"> 
		<TR> 
		  <TD VALIGN="BOTTOM" ALIGN="LEFT" HEIGHT="1" WIDTH="10%"
			CLASS="menubartext">Contents:</TD> 
		  <TD VALIGN="BOTTOM" ALIGN="LEFT" HEIGHT="1" WIDTH="7%">
			 <A HREF="index.htm" TARGET="_top"
			  TITLE="VA FileMan V. 22.0 Programmer HTML Manual: Main Table of Contents"
			  CLASS="menubarlink">Main</A> </TD> 
		  <TD VALIGN="BOTTOM" ALIGN="LEFT" HEIGHT="1" WIDTH="17%"><A
			 HREF="dba_frm.htm" TARGET="_top" CLASS="menubarlink"
			 TITLE="VA FileMan V. 22.0 Programmer HTML Manual: Database Server (DBS) API Chapter TOC">Chapter</A></TD>
		  
		  <TD ALIGN="LEFT" VALIGN="BOTTOM" HEIGHT="1" WIDTH="10%"
			CLASS="menubartext">See Also: </TD> 
		  <TD ALIGN="LEFT" VALIGN="BOTTOM" HEIGHT="1" WIDTH="28%"><A
			 HREF="../u1/index.htm" TARGET="_top"
			 TITLE="VA FileMan V. 22.0 Getting Started HTML Manual"
			 CLASS="menubarlink">Getting Started Manual</A></TD> 
		  <TD VALIGN="BOTTOM" ALIGN="LEFT" HEIGHT="1" COLSPAN="4" WIDTH="28%">
			 <A HREF="../u2/index.htm" TARGET="_top"
			  TITLE="VA FileMan V. 22.0 Advanced User HTML Manual"
			  CLASS="menubarlink">Advanced User Manual</A></TD> 
		</TR> 
	 </TABLE><!-- Content -->
	 <H3><A NAME="navskip">Database Server (DBS) API</A></H3>
	 <HR CLASS="hrstyle"> 
	 <H4>FILESEC^DDMOD: Set File Protection Security Codes</H4> 
	 <P>This entry point sets the security access codes for a file. The call
		allows developers to change only the File Security Codes at a target site
		without having to transport the entire file. The codes are stored in the
		following nodes:</P> 
	 <TABLE SUMMARY="This table is for formatting purposes only" WIDTH="100%"> 
		<TR> 
		  <TD WIDTH="239"> 
			 <PRE>^DIC(filenumber,0,&quot;AUDIT&quot;)</PRE> </TD> 
		  <TD WIDTH="271">Audit Access</TD> 
		</TR> 
		<TR> 
		  <TD WIDTH="239"> 
			 <PRE>^DIC(filenumber,0,&quot;DD&quot;)</PRE> </TD> 
		  <TD WIDTH="271">Data Dictionary Access </TD> 
		</TR> 
		<TR> 
		  <TD WIDTH="239"> 
			 <PRE>^DIC(filenumber,0,&quot;DEL&quot;)</PRE></TD> 
		  <TD WIDTH="271">Delete Access</TD> 
		</TR> 
		<TR> 
		  <TD WIDTH="239"> 
			 <PRE>^DIC(filenumber,0,&quot;LAYGO&quot;) 	 </PRE></TD> 
		  <TD WIDTH="271">LAYGO Access</TD> 
		</TR> 
		<TR> 
		  <TD WIDTH="239"> 
			 <PRE>^DIC(filenumber,0,&quot;RD&quot;)</PRE></TD> 
		  <TD WIDTH="271">Read Access</TD> 
		</TR> 
		<TR> 
		  <TD WIDTH="239"> 
			 <PRE>^DIC(filenumber,0,&quot;WR&quot;)</PRE></TD> 
		  <TD WIDTH="271">Write Access</TD> 
		</TR> 
	 </TABLE> 
	 <P></P> 
	 <H5>Format</H5> 
	 <PRE>FILESEC^DDMOD(FILE,.SECURITY_CODES,MSG_ROOT)</PRE> 
	 <H5>Input Parameters</H5> 
	 <TABLE BORDER="1" WIDTH="100%"
	  SUMMARY="This table is for formatting purposes only"> 
		<TR> 
		  <TD WIDTH="185"><B>FILE</B></TD> 
		  <TD WIDTH="524">(Required) File number. (Cannot be less than 2.)</TD> 
		</TR> 
		<TR> 
		  <TD VALIGN="TOP" WIDTH="185"><B>SECURITY CODES</B></TD> 
		  <TD WIDTH="524">(Required) Array of new security access codes:<BR> 
			 <P></P> 
			 <TABLE SUMMARY="This table is for formatting purposes only"
			  WIDTH="100%"> 
				<TR> 
				  <TD VALIGN="TOP"> 
					 <PRE>SECURITY_CODES(&quot;AUDIT&quot;)</PRE></TD> 
				  <TD VALIGN="TOP">= Audit Access</TD> 
				</TR> 
				<TR> 
				  <TD VALIGN="TOP"> 
					 <PRE>SECURITY_CODES(&quot;DD&quot;)</PRE></TD> 
				  <TD VALIGN="TOP">= Data Dictionary Access</TD> 
				</TR> 
				<TR> 
				  <TD VALIGN="TOP"> 
					 <PRE>SECURITY_CODES(&quot;DEL&quot;)</PRE></TD> 
				  <TD VALIGN="TOP">= Delete Access</TD> 
				</TR> 
				<TR> 
				  <TD VALIGN="TOP"> 
					 <PRE>SECURITY_CODES(&quot;LAYGO&quot;)</PRE></TD> 
				  <TD VALIGN="TOP">= LAYGO Access</TD> 
				</TR> 
				<TR> 
				  <TD VALIGN="TOP"> 
					 <PRE>SECURITY_CODES(&quot;RD&quot;)</PRE></TD> 
				  <TD VALIGN="TOP">= Read Access</TD> 
				</TR> 
				<TR> 
				  <TD VALIGN="TOP"> 
					 <PRE>SECURITY_CODES(&quot;WR&quot;)</PRE></TD> 
				  <TD VALIGN="TOP">= Write Access</TD> 
				</TR> 
			 </TABLE></TD> 
		</TR> 
		<TR> 
		  <TD WIDTH="185"><B>MSG_ROOT</B></TD> 
		  <TD WIDTH="524"> 
			 <P>(Optional) The root of an array into which error messages are
				returned. If this parameter is not included, errors are returned in the default
				array: ^TMP("DIERR",$J)</P></TD> 
		</TR> 
	 </TABLE> 
	 <H5>Output</H5> 
	 <P>None.</P> 
	 <H5>Examples</H5> 
	 <P><B>Example 1</B></P> 
	 <P>In this example we are going to set all of the File Security Code
		nodes:</P> 
	 <PRE>. . . .<B>&gt;D ^%G</B>
. . . . Global ^DIC(16028
            DIC(16028
. . . . ^DIC(16028,0) = ZPATR FILE^16028
. . . . ^DIC(16028,0,&quot;GL&quot;) = ^DIZ(16028,
. . . . ^DIC(16028,&quot;%&quot;,0) = ^1.005^^0
. . . . Global ^

<B>. . . .&gt;S SECURITY(&quot;DD&quot;)=&quot;@&quot;   
. . . .&gt;S SECURITY(&quot;RD&quot;)=&quot;&quot;
. . . .&gt;S SECURITY(&quot;WR&quot;)=&quot;A&quot;
. . . .&gt;S SECURITY(&quot;DEL&quot;)=&quot;@&quot;
. . . .&gt;S SECURITY(&quot;LAYGO&quot;)=&quot;@&quot;
. . . .&gt;S SECURITY(&quot;AUDIT&quot;)=&quot;@&quot;
. . . .&gt;D FILESEC^DDMOD(16028,.SECURITY)</B>
. . . .<B>&gt;D ^%G</B>

. . . . Global ^DIC(16028
. . . .      DIC(16028
. . . . ^DIC(16028,0) = ZPATR FILE^16028
. . . . ^DIC(16028,0,&quot;AUDIT&quot;) = @
. . . . ^DIC(16028,0,&quot;DD&quot;) = @
. . . . ^DIC(16028,0,&quot;DEL&quot;) = @
. . . . ^DIC(16028,0,&quot;GL&quot;) = ^DIZ(16028,
. . . . ^DIC(16028,0,&quot;LAYGO&quot;) = @
. . . . ^DIC(16028,0,&quot;RD&quot;) = 
. . . . ^DIC(16028,0,&quot;WR&quot;) = A
. . . . ^DIC(16028,&quot;%&quot;,0) = ^1.005^^0


</PRE> 
	 <P><B>Example 2</B></P> 
	 <P>In this example, we are going to use the results from the previous
		example and change just the Write Access.</P> 
	 <PRE>. . . . <B>&gt;S SECURITY(&quot;WR&quot;)=&quot;a&quot;
. . . . &gt;D FILESEC^DDMOD(16028,.SECURITY)
. . . . &gt;D ^%G
</B>
. . . . Global ^DIC(16028
         DIC(16028
. . . . ^DIC(16028,0) = ZPATR FILE^16028
. . . . ^DIC(16028,0,&quot;AUDIT&quot;) = @
. . . . ^DIC(16028,0,&quot;DD&quot;) = @
. . . . ^DIC(16028,0,&quot;DEL&quot;) = @
. . . . ^DIC(16028,0,&quot;GL&quot;) = ^DIZ(16028,
. . . . ^DIC(16028,0,&quot;LAYGO&quot;) = @
. . . . ^DIC(16028,0,&quot;RD&quot;) = 
. . . . ^DIC(16028,0,&quot;WR&quot;) = a
. . . . ^DIC(16028,&quot;%&quot;,0) = ^1.005^^0
. . . . Global ^

</PRE> 
	 <H5>Error Codes Returned</H5> 
	 <TABLE BORDER="1" WIDTH="100%"
	  SUMMARY="This table is for formatting purposes only"> 
		<TR> 
		  <TD WIDTH="71"><B><A HREF="err_401.htm" TITLE="Error 401"
			 CLASS="bodylink">401</A></B></TD> 
		  <TD WIDTH="402">The file does not exist or the File Number that was
			 passed was less than 2.</TD> 
		</TR> 
	 </TABLE> 
	 <P></P>
	 <P>&nbsp;</P> 
	 <HR CLASS="hrstyle">
	 <!-- db_ddmo3.htm -->
	 <P ALIGN="CENTER">Reviewed/Updated: March 10, 2007</P>
	 <P>&nbsp;</P> 

  </BODY>
</HTML>
